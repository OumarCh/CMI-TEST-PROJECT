{% extends 'base.html.twig' %}

{% block title %}CMI Test{% endblock %}

{% block body %}
    <div class="w-full px-2 py-16 sm:px-0">
        <h2 id="first_block_title" class="text-center p-2 text-lg font-bold">Trouvez des articles intéressants</h2>

        <section class='flex justify-between flex-wrap'>
            {% for post in posts %}
                <a href="{{ path('app_post', {id: post.id})}}" title="{{'Lire ' ~ post.title}}">
                    <article
                        class="relative rounded-md p-3 m-2 w-full sm:w-60 bg-gray-100 hover:bg-[#140809] hover:text-white"
                    >
                        <img src="{{post.image}}" alt="{{post.title}}">
                        <div class="py-4">
                            <h2 class="font-medium leading-5">{{post.title}}</h2>
                            <p>{{post.content|u.truncate(20, '...')}}</p>
                        </div>
                        <span class="text-xs">Créé le {{ post.createdAt|date("d/m/Y", "Europe/Paris")}}
                    </article>
                </a>
            {% endfor %}
        </section>
        
        {% include 'includes/my_pagination.html.twig' with {'posts': posts} %}

        <h1 id="second_block_title" class="text-center p-2 my-8 text-lg font-bold">Les derniers commentaires</h1>

        {% include 'home/last_comments.html.twig' with {'comments': last_comments} %}
    </div>
{% endblock %}
